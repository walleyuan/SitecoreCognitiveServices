@model SitecoreCognitiveServices.Project.LaunchDemo.Models.SpeakerVerificationResult
@{
    ViewBag.Title = "Speaker Verification";
    Layout = "~/Views/CognitiveLaunch/CognitiveLaunchLayout.cshtml";
}

<div class="frame">
    <form class="form verification-form" method="post" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationGetProfiles">
        <fieldset>
            <legend>Get Profiles</legend>
            <div class="form-row">
                <input type="hidden" name="placeholder" />
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Get Profiles</button>
            </div>
            @if (Model.Profiles != null)
            {
                if (Model.Profiles.Any())
                {
                    foreach (var p in Model.Profiles)
                    {
                        <div>
                            <h3>Profile</h3>
                            <div>
                                <label>Profile Id: </label> @p.ProfileId
                            </div>
                            <div>
                                <label>Enrollments Count: </label> @p.EnrollmentsCount
                            </div>
                            <div>
                                <label>Remaining Enrollments Count: </label> @p.RemainingEnrollmentsCount
                            </div>
                        </div>
                    }
                }
                else
                {
                    <div>There are no profiles.</div>
                }
            }
        </fieldset>
    </form>
    <form class="form verification-form" method="post" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationCreateProfile">
        <fieldset>
            <legend>Create Profile</legend>
            <div class="form-row">
                <label>Locale</label>
                <select name="locale">
                    <option value="en-US">en-US</option>
                </select>
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Create Profile</button>
            </div>
            @if (Model.NewProfile != null)
            {
                <div>
                    <label>Profile Id: </label> @Model.NewProfile.ProfileId
                </div>
            }
        </fieldset>
    </form>
    <form class="form verification-form" method="post" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationGetProfile">
        <fieldset>
            <legend>Get Profile</legend>
            <div class="form-row">
                <label>Profile Id</label>
                <input type="text" name="profileId" />
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Submit</button>
            </div>
            @if (Model.Profile != null)
            {
                <div>
                    <h3>Profile</h3>
                    <div>
                        <label>Profile Id: </label> @Model.Profile.ProfileId
                    </div>
                    <div>
                        <label>Enrollments Count: </label> @Model.Profile.EnrollmentsCount
                    </div>
                    <div>
                        <label>Remaining Enrollments Count: </label> @Model.Profile.RemainingEnrollmentsCount
                    </div>
                </div>
            }
        </fieldset>
    </form>
    <form class="form verification-form" method="post" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationDeleteProfile">
        <fieldset>
            <legend>Delete Profile</legend>
            <div class="form-row">
                <label>Profile Id</label>
                <input type="text" name="profileId" />
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Delete Profile</button>
            </div>
        </fieldset>
    </form>
    <form class="form verification-form" method="post" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationGetPhrases">
        <fieldset>
            <legend>Get Phrases</legend>
            <div class="form-row">
                <label>Locale</label>
                <select name="locale">
                    <option value="en-US">en-US</option>
                </select>
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Get Phrases</button>
            </div>
            @if (Model.Phrases != null)
            {
                if (Model.Phrases.Any())
                {
                    <ul>
                        @foreach (var p in Model.Phrases)
                        {
                            <li>@p.Phrase</li>
                        }
                    </ul>
                }
                else
                {
                    <div>There are no phrases.</div>
                }
            }
        </fieldset>
    </form>
    <form class="form verification-form" method="post" enctype="multipart/form-data" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationEnroll">
        <fieldset>
            <legend>Enroll Audio</legend>
            <div class="form-row">
                <label>Profile Id</label>
                <input type="text" name="profileId" />
            </div>
            <div class="form-row">
                <label>Audio File (16Khz Sample/Project Rate .wav)</label>
                <input type="file" name="file" />
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Enroll Audio</button>
            </div>
            @if (Model.Enrollment != null)
            {
                <div>
                    <div>
                        <label>Phrase: </label> @Model.Enrollment.Phrase
                    </div>
                    <div>
                        <label>Enrollments Count: </label> @Model.Enrollment.EnrollmentsCount
                    </div>
                    <div>
                        <label>Remaining Enrollments: </label> @Model.Enrollment.RemainingEnrollments
                    </div>
                </div>
            }
        </fieldset>
    </form>
    <form class="form verification-form" method="post" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationResetEnrollments">
        <fieldset>
            <legend>Reset Enrollments</legend>
            <div class="form-row">
                <label>Profile Id</label>
                <input type="text" name="profileId" />
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Reset Enrollments</button>
            </div>
        </fieldset>
    </form>
    <form class="form verification-form" method="post" enctype="multipart/form-data" action="/SitecoreCognitiveServices/CognitiveLaunch/SpeakerVerificationVerify">
        <fieldset>
            <legend>Verify Audio</legend>
            <div class="form-row">
                <label>Profile Id</label>
                <input type="text" name="profileId" />
            </div>
            <div class="form-row">
                <label>Audio File (16Khz Sample/Project Rate .wav)</label>
                <input type="file" name="file" />
            </div>
            <div class="scWizardButtons">
                <button class="form-submit">Verify Audio</button>
            </div>
            @if (Model.Verification != null)
            {
                <div>
                    <div>
                        <label>Result: </label> @Model.Verification.Result
                    </div>
                    <div>
                        <label>Phrase: </label> @Model.Verification.Phrase
                    </div>
                    <div>
                        <label>Confidence: </label> @Model.Verification.Confidence
                    </div>
                </div>
            }
        </fieldset>
    </form>
</div>